{% extends "base.html" %}
{% load static %}

{% block page_header %}
    <!-- Add any header content here if needed -->
{% endblock %}

{% block extra-nav %}
    {% include 'includes/vendor-navbar.html' %}
{% endblock %}

{% block content %}
<div class="row mt-1 mb-2">
    
    <div class="col-12">
        <p class="text-muted mt-3 text-center">
            Order Details
        </p>
    </div>
</div>
<div>
    </div>
    <div class="table-responsive">
        <form method="POST">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th scope="col">Order No</th>
                        <th scope="col">Product/Address</th>
                        <th scope="col">Qty</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Status</th>
                        {% if condition_value == 4 %}
                        <th scope="col">Reason</th>
                        {% endif %}
                        {% if condition_value == 0 or condition_value == 1 or condition_value == 4 %}
                        <th scope="col">Action</th>
                        {% endif %}

                    </tr>
                </thead>
                <tbody>
                        <tr>
                            <td>{{ order.order }}</td>
                            <td>{{ order.product }}
                                | {{ item.order.first_name }} <span> {{ item.order.last_name }}</span>
                                {{ order.order.street_address1 }},
                                {{ order.order.street_address2 }}, 
                                {{ order.order.town_or_city }},
                                {{ order.order.county }},
                                {{ order.order.country }}.
                            </td>
                            <td>{{ order.quantity }}</td>
                            <td>{{ order.lineitem_total }}</td>
                            
                            <td>
                                {% if condition_value == 2 %}
                                    Delivered
                                {% elif condition_value == 3 %}
                                    Delivery Failed
                                {% elif condition_value == 4 %}
                                    Cancelled
                                {% else %}
                                <div>
                                    {% csrf_token %}
                                    {{ form.status }}        
                                </div>
                                {% endif %}
                            </td>
                            {% if condition_value == 4 %}
                                <td>
                                    <div>
                                        {% csrf_token %}
                                        {{ form.reason }}        
                                    </div>
                                </td>
                            {% endif %}
                            {% if condition_value == 0 or condition_value == 1 or condition_value == 4 %}
                            <td><button type="submit">Update</button></td>
                            {% endif %}
                        </tr>
                </tbody>
            </table>
        </form>
        <div>
            
        </div>
    </div>
    
</div>

    
    
{% endblock %}